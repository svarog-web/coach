(function(t){var e=[];var i={init:function(i){return this.each(function(){var o=this;var s=t(o).data("cbtooltip");if(s){return}s={};s.options=typeof i!="undefined"?i:{};s.defaults=t.fn.cbtooltip.defaults;s.settings=t.extend(true,{},s.defaults,s.options);s.element=t(o);if(s.settings.useData){t.each(s.defaults,function(t,e){if(t!="init"&&t!="id"&&t!="useData"){var i=s.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1));if(typeof i!="undefined"){if(t.indexOf("classes")!==-1){s.settings[t]+=" "+i}else{s.settings[t]=i}}else{i=s.element.data("cbtooltip"+t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());if(typeof i!="undefined"){if(t.indexOf("classes")!==-1){s.settings[t]+=" "+i}else{s.settings[t]=i}}}}})}s.element.triggerHandler("cbtooltip.init.before",[s]);if(s.element.parents('.cbTooltip,[data-hascbtooltip="true"]').length){s.settings.init=false}if(!s.settings.init){return}var l=s.settings.clone!=null?s.settings.clone?true:false:true;var a=s.settings.modal!=null?s.settings.modal?true:false:false;var r=s.settings.dialog!=null?s.settings.dialog?true:false:false;var p=s.settings.menu!=null?s.settings.menu?true:false:false;var c=s.settings.buttonHide!=null?s.settings.buttonHide?true:false:false;var u=s.settings.tooltipTarget?t(s.settings.tooltipTarget).length?!l&&!s.settings.keepAlive?t(s.settings.tooltipTarget):null:null:null;var d=u&&u.length?u.parent():null;if(a||r){p=false}else if(p){a=false;r=false;if(s.settings.width!=s.element.data("width")){s.settings.width=null}}s.tooltiptype=a?"modal":r?"dialog":p?"menu":"tooltip";s.overlay=t('<div class="qtip-overlay" />');s.escapeHandler=function(t){if(t.which==27){s.tooltip.qtip("api").hide()}};s.tooltip=s.element.qtip({id:s.settings.id,overwrite:true,content:{text:s.settings.tooltipTarget?t(s.settings.tooltipTarget).length?l?t(s.settings.tooltipTarget).clone(true):t(s.settings.tooltipTarget):s.settings.tooltip?s.settings.tooltip:null:s.settings.tooltip?s.settings.tooltip:null,title:s.settings.titleTarget?t(s.settings.titleTarget).length?l?t(s.settings.titleTarget).clone(true):t(s.settings.titleTarget):s.settings.title?s.settings.title:null:s.settings.title?s.settings.title:null,button:s.settings.openEvent&&s.settings.openEvent.indexOf("click")!==-1||a||r?c||p?false:s.settings.buttonClose:false},position:{container:s.settings.container?t(s.settings.container).length?t(s.settings.container):s.settings.container:false,viewport:s.settings.viewport?t(s.settings.viewport).length?t(s.settings.viewport):s.settings.viewport:t(window),my:s.settings.positionMy?s.settings.positionMy:a||r?"center":"top left",at:s.settings.positionAt?s.settings.positionAt:p?"bottom left":a||r?"center":"bottom right",target:s.settings.positionTarget?s.settings.positionTarget=="mouse"?"mouse":t(s.settings.positionTarget).length?t(s.settings.positionTarget):false:a||r?t(window):false,adjust:{x:s.settings.adjustX!=null?s.settings.adjustX:0,y:s.settings.adjustY!=null?s.settings.adjustY:p?5:0,scroll:s.settings.adjustScroll!=null?s.settings.adjustScroll:true,resize:s.settings.adjustResize!=null?s.settings.adjustResize:true,method:s.settings.adjustMethod?s.settings.adjustMethod:"shift flipinvert"},effect:false},show:{ready:s.settings.openReady!=null?s.settings.openReady:r,target:s.settings.openTarget?t(s.settings.openTarget).length?t(s.settings.openTarget):false:false,event:s.settings.openEvent?s.settings.openEvent:a||r?"click":"mouseenter click",solo:s.settings.openSolo!=null?t(s.settings.openSolo).length?t(s.settings.openSolo):s.settings.openSolo=="document"?t(document):s.settings.openSolo:a?t(document):false,delay:s.settings.openDelay!=null?s.settings.openDelay:0,modal:{on:a,escape:false,blur:false}},hide:{target:s.settings.closeTarget?t(s.settings.closeTarget).length?t(s.settings.closeTarget):false:false,event:s.settings.closeEvent?s.settings.closeEvent:a||r?"none":"mouseleave unfocus",fixed:s.settings.closeFixed!=null?s.settings.closeFixed:p||a||r,delay:s.settings.closeDelay!=null?s.settings.closeDelay:p?200:0,distance:s.settings.closeDistance!=null?s.settings.closeDistance:false,leave:s.settings.closeLeave!=null?s.settings.closeLeave:"window",inactive:s.settings.closeInactive!=null?s.settings.closeInactive:false},style:{width:s.settings.width!=null?s.settings.width:false,height:s.settings.height!=null?s.settings.height:false,tip:{corner:s.settings.tipHide!=null?s.settings.tipHide?false:true:!(p||a||r),width:s.settings.tipWidth!=null?s.settings.tipWidth:6,height:s.settings.tipHeight!=null?s.settings.tipHeight:6,offset:s.settings.tipOffset!=null?s.settings.tipOffset:0},classes:(s.settings.classes?s.settings.classes:"")+(p?" qtip-menu":"")+(a?" qtip-modal":"")+(r?" qtip-dialog":"")},events:{render:function(e,i){s.element.triggerHandler("cbtooltip.render",[s,e,i]);t(i.elements.content).find('.cbTooltip,[data-hascbtooltip="true"]').each(function(){t(this).cbtooltip(s.options)});if(p){t(i.elements.content).on("click",function(){i.toggle(false)})}if(i.elements.tooltip){var n=t(window).width()-50;var o=i.elements.tooltip.width();if(o>n){i.set("style.width",n)}}if(i.elements.overlay){t(document).off("keydown.qtip-modal");i.elements.overlay.off("click.qtip-modal");i.elements.overlay.on("click",function(t){i.toggle(false)})}t(i.elements.content).on("click",".cbTooltipClose",function(t){t.preventDefault();i.toggle(false)})},show:function(e,i){s.element.triggerHandler("cbtooltip.show",[s,e,i]);if(s.settings.closeClasses){t(i.elements.target).removeClass(s.settings.closeClasses)}if(s.settings.openClasses){t(i.elements.target).addClass(s.settings.openClasses)}},hide:function(e,i){s.element.triggerHandler("cbtooltip.hide",[s,e,i]);if(s.settings.openClasses){t(i.elements.target).removeClass(s.settings.openClasses)}if(s.settings.closeClasses){t(i.elements.target).addClass(s.settings.closeClasses)}if(u&&u.length){d.append(u)}},toggle:function(t,e){s.element.triggerHandler("cbtooltip.toggle",[s,t,e])},visible:function(e,i){if(a){t(document).on("keydown",s.escapeHandler);if(i.options.position.adjust.scroll){t("body").addClass("cbTooltipModalOpen")}n.call(o,s,i)}else if(s.settings.overlay){s.overlay.insertBefore(i.elements.tooltip).css({zIndex:i.elements.tooltip.css("zIndex")-1,cursor:"default"})}s.element.triggerHandler("cbtooltip.visible",[s,e,i])},hidden:function(e,i){if(a){t(document).off("keydown",s.escapeHandler);if(i.options.position.adjust.scroll){t("body").removeClass("cbTooltipModalOpen")}}if(!a&&s.settings.overlay){s.overlay.remove()}s.element.triggerHandler("cbtooltip.hidden",[s,e,i]);if(r){if(!s.element.data("cbtooltip")){i.destroy(true)}else{s.element.cbtooltip("destroy");s.element.remove()}}else{if(!s.settings.keepAlive){if(!s.element.data("cbtooltip")){i.destroy(true)}else{s.options.id=i.get("id");s.element.cbtooltip("destroy");s.element.cbtooltip(s.options)}}}},move:function(t,e){if(a){n.call(o,s,e)}s.element.triggerHandler("cbtooltip.move",[s,t,e])},focus:function(t,e){s.element.triggerHandler("cbtooltip.focus",[s,t,e])},blur:function(t,e){s.element.triggerHandler("cbtooltip.blur",[s,t,e])}}});if(a||r){s.element.on("destroy.cbtooltip",function(){s.element.cbtooltip("destroy")})}else{s.element.on("remove destroy.cbtooltip",function(){s.element.cbtooltip("destroy")})}s.element.on("rebind.cbtooltip",function(){s.element.cbtooltip("rebind")});s.element.on("modified.cbtooltip",function(e,i,n,o){if(i!=n){var l=["tooltip-target","title-target","open-target","close-target","position-target"];t.each(l,function(t,e){var o=s.element.attr("data-cbtooltip-"+e);if(typeof o!="undefined"){s.element.attr("data-cbtooltip-"+e,o.replace(i,n))}var l=s.element.data("cbtooltip-"+e);if(typeof l!="undefined"){s.element.data("cbtooltip-"+e,l.replace(i,n))}});s.element.cbtooltip("rebind")}});s.element.on("cloned.cbtooltip",function(){t(this).off("destroy.cbtooltip");t(this).off("rebind.cbtooltip");t(this).off("cloned.cbtooltip");t(this).off("modified.cbtooltip");var e=t(this).data("qtip")._id;t(this).removeData("cbtooltip");t(this).removeData("hasqtip");t(this).removeData("qtip");t(this).removeAttr("data-hasqtip");t(this).off("."+e);t(this).cbtooltip(s.options)});s.element.triggerHandler("cbtooltip.init.after",[s]);s.element.data("cbtooltip",s);e.push(s)})},get:function(e){var i=t(this).data("cbtooltip");if(!i){return null}return i.tooltip.qtip("api").get(e)},set:function(e,i){var n=t(this).data("cbtooltip");if(!n){return this}n.tooltip.qtip("api").set(e,i);return this},toggle:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle();return this},show:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle(true);return this},hide:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").toggle(false);return this},enable:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").disable(false);e.element.triggerHandler("cbtooltip.enable",[e]);return this},disable:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").disable(true);e.element.triggerHandler("cbtooltip.disable",[e]);return this},reposition:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").reposition();return this},focus:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").focus();return this},blur:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.tooltip.qtip("api").blur();return this},rebind:function(){var e=t(this).data("cbtooltip");if(!e){return this}e.element.cbtooltip("destroy");e.element.cbtooltip(e.options);return this},destroy:function(){var i=t(this).data("cbtooltip");if(!i){return this}i.tooltip.qtip("api").destroy(true);i.element.off("destroy.cbtooltip");i.element.off("rebind.cbtooltip");i.element.off("cloned.cbtooltip");i.element.off("modified.cbtooltip");t.each(e,function(t,n){if(n.element==i.element){e.splice(t,1);return false}return true});i.element.removeData("cbtooltip");i.element.triggerHandler("cbtooltip.destroyed",[i]);return this},instances:function(){return e}};function n(t,e){if(e.elements.tooltip){e.elements.content.css("height","");e.elements.content.css("max-height","");var i=e.elements.tooltip.height();if(i){if(e.elements.titlebar){e.elements.titlebar.css("height","");e.elements.titlebar.css("max-height","");var n=e.elements.titlebar.outerHeight(true);if(n){e.elements.titlebar.css("height","100%");e.elements.titlebar.css("max-height",n);if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",i-n)}}}else if(e.elements.content){e.elements.content.css("height","100%");e.elements.content.css("max-height",i)}}}}t.cbconfirm=function(e,n){var o=t.Deferred();var s=t("<div />").appendTo("body");s.data("cbtooltip-tooltip",e);s.data("cbtooltip-dialog",true);s.data("cbtooltip-button-hide",true);s.data("cbtooltip-width",false);s.data("cbtooltip-overlay",true);s.on("cbtooltip.render",function(e,i,n,s){t(s.elements.content).on("click",".cbTooltipButtonYes",function(t){o.resolve("yes")})}).on("cbtooltip.hidden",function(t,e,i,n){if(o.state()!="resolved"){o.reject("no")}});var l=i.init.apply(s,[n]);var a=l.data("cbtooltip");if(a&&(a.settings.buttonYes||a.settings.buttonNo)){e+='<div class="cbTooltipButtons text-right" style="margin-top: 10px;">'+(a.settings.buttonYes?'<button class="cbTooltipButtonYes btn btn-xs btn-primary cbTooltipClose">'+a.settings.buttonYes+"</button>":"")+(a.settings.buttonNo?' <button class="cbTooltipButtonNo btn btn-xs btn-default cbTooltipClose">'+a.settings.buttonNo+"</button>":"")+"</div>";l.cbtooltip("set","content.text",e)}return o.promise()};t.cbprompt=function(e,n){var o=t.Deferred();var s=t("<div />").appendTo("body");s.data("cbtooltip-tooltip",e);s.data("cbtooltip-dialog",true);s.data("cbtooltip-button-hide",true);s.data("cbtooltip-width",false);s.on("cbtooltip.hidden",function(t,e,i,n){o.resolve("yes")});var l=i.init.apply(s,[n]);var a=l.data("cbtooltip");if(a&&a.settings.buttonYes){e+='<div class="cbTooltipButtons text-right" style="margin-top: 10px;">'+'<button class="cbTooltipButtonYes btn btn-xs btn-primary cbTooltipClose">'+a.settings.buttonYes+"</button>"+"</div>";l.cbtooltip("set","content.text",e)}return o.promise()};t.cbdialog=function(e,n){var o=t("<div />").appendTo("body");o.data("cbtooltip-tooltip",e);o.data("cbtooltip-dialog",true);o.data("cbtooltip-width",false);return i.init.apply(o,[n])};t.cbmodal=function(e,n){var o=t("<div />").appendTo("body");o.data("cbtooltip-tooltip",e);o.data("cbtooltip-modal",true);o.data("cbtooltip-dialog",true);o.data("cbtooltip-width",false);return i.init.apply(o,[n])};t.fn.cbtooltip=function(t){if(i[t]){return i[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return i.init.apply(this,arguments)}return this};t.fn.cbtooltip.defaults={init:true,useData:true,id:null,tooltip:null,tooltipTarget:null,title:null,titleTarget:null,openReady:null,openEvent:null,openTarget:null,openClasses:null,openSolo:null,openDelay:null,closeEvent:null,closeTarget:null,closeClasses:null,closeFixed:null,closeDelay:null,closeDistance:null,closeLeave:null,closeInactive:null,buttonHide:null,buttonClose:null,buttonYes:null,buttonNo:null,width:null,height:null,modal:null,dialog:null,menu:null,clone:null,classes:null,container:null,viewport:null,positionMy:null,positionAt:null,positionTarget:null,adjustX:null,adjustY:null,adjustScroll:null,adjustResize:null,adjustMethod:null,tipHide:null,tipWidth:null,tipHeight:null,tipOffset:null,keepAlive:null,overlay:null}})(jQuery);