!function($){function revertCondition(e,t){var i=this.jquery?this:$(this),n=t.show,o=t.hide;$.isArray(n)||(n="string"==typeof n?[n]:[]),$.isArray(o)||(o="string"==typeof o?[o]:[]),$.each(n,function(n,o){showElement.call(i,e,t,$(o))}),$.each(o,function(n,o){showElement.call(i,e,t,$(o))})}function conditionElement(e,t){var i=this.jquery?this:$(this),n=e.settings.conditions;$.isArray(n)||(n=[]),$.each(n,function(n,o){var a=o.input,s=o.operator,c=o.value,l=o.show,d=o.hide;$.isArray(l)||(l="string"==typeof l?[l]:[]),$.isArray(d)||(d="string"==typeof d?[d]:[]),(i.is("input")||i.is("select")||i.is("textarea"))&&(i.is('input[type="checkbox"]')||i.is('input[type="radio"]')?(a=[],e.target.each(function(){$(this).is(":checked")&&a.push($(this).val())})):i.is("select[multiple]")?(a=i.val(),a&&!$.isArray(a)&&(a=a.split(","))):a=i.val()),$.isArray(a)&&(a=a.join("|*|"));var r=!1;"undefined"==typeof t&&matchCondition.call(i,e,a,s,c)||t?(r=!0,$.each(l,function(t,n){showElement.call(i,e,o,$(n))}),$.each(d,function(t,n){hideElement.call(i,e,o,$(n))}),e.element.triggerHandler("cbcondition.match.true",[e,a])):($.each(l,function(t,n){hideElement.call(i,e,o,$(n))}),$.each(d,function(t,n){showElement.call(i,e,o,$(n))}),e.element.triggerHandler("cbcondition.match.false",[e,a])),e.settings.debug&&console.log({condition:o,input:a,operator:s,value:c,matched:r})})}function showElement(e,t,i){if(i.length&&i.hasClass("cbDisplayDisabled")){if(i.hasClass("cbTabPane")){var n=i.closest(".cbTabs");n.data("cbtabs")&&n.cbtabs("show",i.attr("id"))}else(i.is('input[type="checkbox"]')||i.is('input[type="radio"]'))&&(i.closest(".cbSingleCntrl").length?i.closest(".cbSingleCntrl").removeClass("cbDisplayDisabled hidden"):i.closest(".cbSnglCtrlLbl").length?i.closest(".cbSnglCtrlLbl").removeClass("cbDisplayDisabled hidden"):i.parent("label").length&&i.parent("label").removeClass("cbDisplayDisabled hidden"));i.is("input")||i.is("select")||i.is("textarea")?i.removeClass("cbValidationDisabled").trigger("condition"):i.is("option")?i.prop("disabled",!1).trigger("condition"):i.find("input,select,textarea").removeClass("cbValidationDisabled").trigger("condition"),i.removeClass("cbDisplayDisabled hidden"),e.element.triggerHandler("cbcondition.show",[e,i])}}function hideElement(e,t,i){if(i.length&&!i.hasClass("cbDisplayDisabled")){if(i.hasClass("cbTabPane")){var n=i.closest(".cbTabs");n.data("cbtabs")&&n.cbtabs("hide",i.attr("id"))}else(i.is('input[type="checkbox"]')||i.is('input[type="radio"]'))&&(i.closest(".cbSingleCntrl").length?i.closest(".cbSingleCntrl").addClass("cbDisplayDisabled hidden"):i.closest(".cbSnglCtrlLbl").length?i.closest(".cbSnglCtrlLbl").addClass("cbDisplayDisabled hidden"):i.parent("label").length&&i.parent("label").addClass("cbDisplayDisabled hidden"));if(i.is("input")||i.is("select")||i.is("textarea"))t.reset&&(i.is('input[type="checkbox"]')||i.is('input[type="radio"]')?i.prop("checked",!1):i.is('input[type="hidden"]')||i.val("")),i.addClass("cbValidationDisabled").trigger("condition");else if(i.is("option"))t.reset&&i.prop("selected",!1),i.prop("disabled",!0).trigger("condition");else{var o=i.find("input,select,textarea");t.reset&&o.each(function(){$(this).is('input[type="checkbox"]')||$(this).is('input[type="radio"]')?$(this).prop("checked",!1):$(this).is('input[type="hidden"]')||$(this).val("")}),o.addClass("cbValidationDisabled").trigger("condition")}i.addClass("cbDisplayDisabled hidden"),e.element.triggerHandler("cbcondition.hide",[e,i])}}function matchCondition(cbcondition,input,operator,value){input=$.trim(input),value=$.trim(value);var match=!1;switch(operator){case"!=":case"<>":case 1:match=input!=value;break;case">":case 2:match=input>value;break;case"<":case 3:match=value>input;break;case">=":case 4:match=input>=value;break;case"<=":case 5:match=value>=input;break;case"empty":case 6:match=!input.length;break;case"!empty":case 7:match=input.length;break;case"contain":case 8:match=-1!=input.indexOf(value);break;case"!contain":case 9:match=-1==input.indexOf(value);break;case"regexp":case 10:match=input.match(eval(value));break;case"!regexp":case 11:match=!input.match(eval(value));break;case"=":case 0:default:match=input==value}return cbcondition.element.triggerHandler("cbcondition.match",[cbcondition,input,operator,value,match]),match}var instances=[],methods={init:function(e){return this.each(function(){var t=this,i=$(t).data("cbcondition");return i?void(e.conditions&&i.element.cbcondition("add",e.conditions)):(i={},i.options=e,i.defaults=$.fn.cbcondition.defaults,i.settings=$.extend(!0,{},i.defaults,i.options),i.element=$(t),i.settings.useData&&$.each(i.defaults,function(e){if("init"!=e&&"useData"!=e){var t=i.element.data("cbcondition"+e.charAt(0).toUpperCase()+e.slice(1));"undefined"!=typeof t?i.settings[e]=t:(t=i.element.data("cbcondition"+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()),"undefined"!=typeof t&&(i.settings[e]=t))}}),i.element.triggerHandler("cbcondition.init.before",[i]),void(i.settings.init&&($.isArray(i.settings.conditions)||(i.settings.conditions=[]),i.target=null,i.element.is("input")||i.element.is("select")||i.element.is("textarea")?i.target=i.element:(i.target=i.element.find("input,select,textarea").first(),(i.target.is(":checkbox")||i.target.is(":radio"))&&(i.target=i.element.find('input[name="'+i.target.attr("name")+'"]'))),i.changeHandler=function(){conditionElement.call(this,i)},i.target.on("keyup change condition",i.changeHandler),conditionElement.call(i.target,i),i.element.on("remove destroy.cbcondition",function(){i.element.cbcondition("destroy")}),i.element.on("rebind.cbcondition",function(){i.element.cbcondition("rebind")}),i.element.on("modified.cbcondition",function(e,t,n){t!=n&&(i.element.cbcondition("destroy"),i.element.cbcondition(i.options))}),i.element.on("cloned.cbcondition",function(){$(this).off("destroy.cbcondition"),$(this).off("rebind.cbcondition"),$(this).off("cloned.cbcondition"),$(this).off("modified.cbcondition"),$(this).removeData("cbcondition");var e=null;$(this).is("input")||$(this).is("select")||$(this).is("textarea")?e=$(this):(e=$(this).find("input,select,textarea").first(),(e.is(":checkbox")||e.is(":radio"))&&(e=$(this).find('input[name="'+e.attr("name")+'"]'))),e.off("keyup change condition",i.changeHandler),$(this).cbcondition(i.options)}),i.element.triggerHandler("cbcondition.init.after",[i]),i.element.data("cbcondition",i),instances.push(i))))})},match:function(e){var t=$(this).data("cbcondition");return t?(t.target.each(function(){conditionElement.call(this,t,e)}),!0):!1},add:function(e){if(!e||!$.isArray(e))return!1;var t=$(this).data("cbcondition");return t?(t.options.conditions=$.merge(t.options.conditions,e),t.settings.conditions=$.merge(t.settings.conditions,e),t.element.data("cbcondition",t),conditionElement.call(t.target,t),t.element.triggerHandler("cbcondition.add",[t,e]),!0):!1},remove:function(e){var t=$(this).data("cbcondition");if(!t)return!1;var i=null;return $.isArray(t.options.conditions)&&e in t.options.conditions&&(i=t.options.conditions[e],t.options.conditions.splice(e,1)),$.isArray(t.settings.conditions)&&e in t.settings.conditions&&(i=t.settings.conditions[e],t.settings.conditions.splice(e,1)),i?(revertCondition.call(this,t,i),t.element.data("cbcondition",t),t.element.triggerHandler("cbcondition.remove",[t,i]),!0):!1},rebind:function(){var e=$(this).data("cbcondition");return e?(e.element.cbcondition("destroy"),e.element.cbcondition(e.options),this):this},destroy:function(){var e=$(this).data("cbcondition");if(!e)return!1;e.element.off("destroy.cbcondition"),e.element.off("rebind.cbcondition"),e.element.off("cloned.cbcondition"),e.element.off("modified.cbcondition"),e.target.off("keyup change condition",e.changeHandler),$.each(instances,function(t,i){return i.element==e.element?(instances.splice(t,1),!1):!0});var t=e.settings.conditions;if($.isArray(t)){var i=this;$.each(t,function(t,n){revertCondition.call(i,e,n)})}return e.element.removeData("cbcondition"),e.element.triggerHandler("cbcondition.destroyed",[e]),!0},instances:function(){return instances}};$.fn.cbcondition=function(e){return $(this).length?methods[e]?methods[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:methods.init.apply(this,arguments):$.cbcondition(e)},$.cbcondition=function(e){if(methods[e])return"instances"==e?instances:this;var t={};return t.options=e,t.defaults=$.fn.cbcondition.defaults,t.settings=$.extend(!0,{},t.defaults,t.options),t.element="undefined"==typeof e.element?$(window):e.element,t.target="undefined"==typeof e.target?$(window):e.target,$.isArray(t.settings.conditions)||(t.settings.conditions=[]),conditionElement.call(window,t),this},$.fn.cbcondition.defaults={init:!0,useData:!0,conditions:[{input:null,operator:null,value:null,show:[],hide:[],reset:!0}],debug:!1}}(jQuery);